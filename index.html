<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combogic x S-Quant 整合平台</title>
    
    <!-- 1. 載入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. 載入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. 載入 Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Inter', system-ui, sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-gray-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 內嵌圖標庫 (解決 CDN 載入失敗問題) ---
        // 這裡直接定義我們需要的 SVG 圖標元件
        const IconBase = ({ children, size = 24, className = "", ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const Icons = {
            LayoutDashboard: (props) => <IconBase {...props}><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></IconBase>,
            Leaf: (props) => <IconBase {...props}><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 14 8 7 7 0 0 1-14 8z"/><path d="M8 21h4"/></IconBase>,
            Users: (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>,
            Truck: (props) => <IconBase {...props}><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18H9"/><path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/><circle cx="17" cy="18" r="2"/><circle cx="7" cy="18" r="2"/></IconBase>,
            AlertTriangle: (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></IconBase>,
            ShieldCheck: (props) => <IconBase {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></IconBase>,
            Newspaper: (props) => <IconBase {...props}><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M18 14h-8"/><path d="M15 18h-5"/><path d="M10 6h8v4h-8V6Z"/></IconBase>,
            BrainCircuit: (props) => <IconBase {...props}><path d="M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z"/><path d="M16 8V5c0-1.1.9-2 2-2"/><path d="M12 13h4"/><path d="M12 18h6a2 2 0 0 1 2 2v1"/><path d="M12 8h8"/></IconBase>,
            MapPin: (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>,
            TrendingUp: (props) => <IconBase {...props}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></IconBase>,
            DollarSign: (props) => <IconBase {...props}><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></IconBase>,
            Activity: (props) => <IconBase {...props}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></IconBase>,
            FileText: (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></IconBase>,
            Download: (props) => <IconBase {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></IconBase>,
            History: (props) => <IconBase {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/></IconBase>,
            Lock: (props) => <IconBase {...props}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></IconBase>,
            Eye: (props) => <IconBase {...props}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconBase>,
            CheckCircle2: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></IconBase>
        };

        const { 
            LayoutDashboard, Leaf, Users, Truck, AlertTriangle, 
            ShieldCheck, Newspaper, BrainCircuit, MapPin, TrendingUp, 
            DollarSign, Activity, FileText, Download, History, Lock, Eye, CheckCircle2 
        } = Icons;


        // --- 模擬數據 ---

        const FLEET_DATA = [
            { id: 'V-8821', driver: '陳大明', status: 'moving', carbon: 12.5, fuel_score: 85, fatigue_risk: 'Low', compliance: 98, location: '台北市內湖區' },
            { id: 'V-9903', driver: '王小華', status: 'idle', carbon: 18.2, fuel_score: 62, fatigue_risk: 'High', compliance: 75, location: '桃園市龜山區' },
            { id: 'V-7714', driver: '李志豪', status: 'moving', carbon: 14.1, fuel_score: 78, fatigue_risk: 'Medium', compliance: 88, location: '新北市三重區' },
        ];

        const NEWS_RISKS = [
            { id: 1, source: 'News API', title: '物流業工時新制上路，部分業者違規', risk_level: 'High', category: '勞動權益', date: '2025-10-24' },
            { id: 2, source: 'Internal Report', title: '龜山轉運站發生小型工安意外', risk_level: 'Medium', category: '職場安全', date: '2025-10-23' },
        ];

        const AUDIT_REPORTS = [
            { id: 'R-2025-Q3-E', type: 'ISO 14064-1', title: '2025 Q3 溫室氣體盤查報告書', status: 'Ready', date: '2025-10-01', size: '2.4 MB' },
            { id: 'R-2025-Q3-S', type: 'SROI / HRDD', title: '2025 Q3 社會影響力與人權盡職調查報告', status: 'Ready', date: '2025-10-01', size: '1.8 MB' },
            { id: 'R-2025-RAW', type: 'Raw Data', title: '原始數據稽核底稿 (Raw Data Log)', status: 'Locked', date: '2025-10-01', size: '15.6 MB' },
        ];

        const AUDIT_TRAIL = [
            { id: 101, timestamp: '2025-10-24 14:30:22', user: 'System (IoT)', action: 'Data Ingest', details: 'V-9903 上傳急煞訊號 (G-Sensor > 2.5g)', hash: '0x8f...2a1' },
            { id: 102, timestamp: '2025-10-24 14:30:25', user: 'Vertex AI', action: 'Risk Calculation', details: '觸發疲勞風險規則：連續駕駛 > 4hr + 急煞', hash: '0x3b...9c4' },
            { id: 103, timestamp: '2025-10-25 09:15:00', user: 'John Doe (Manager)', action: 'Manual Review', details: '確認為有效風險事件，已指派輔導員', hash: '0x1d...5e2' },
        ];

        // --- 元件 ---

        const NavItem = ({ icon, label, active, onClick, highlight, colorClass }) => {
            const baseClass = highlight && active ? colorClass : (active ? 'bg-slate-800 border-green-500 text-white' : 'border-transparent text-slate-400 hover:bg-slate-800 hover:text-white');
            
            return (
            <button 
                onClick={onClick}
                className={`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors border-l-4 ${baseClass}`}
            >
                {icon}
                {label}
            </button>
            );
        };

        const KpiCard = ({ title, value, trend, trendUp, icon, color, subtitle }) => (
            <div className={`bg-white rounded-xl shadow-sm p-6 border border-gray-100 ${color} hover:shadow-md transition-shadow`}>
                <div className="flex justify-between items-start mb-4">
                <div className="p-2 bg-gray-50 rounded-lg shadow-sm">{icon}</div>
                {trend && (
                    <span className={`text-xs font-bold px-2 py-1 rounded-full ${trendUp ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                    {trend}
                    </span>
                )}
                </div>
                <div>
                <p className="text-gray-500 text-xs uppercase tracking-wide font-semibold">{title}</p>
                <h3 className="text-2xl font-bold text-gray-800 mt-1">{value}</h3>
                {subtitle && <p className="text-xs text-blue-500 mt-1 flex items-center gap-1"><BrainCircuit size={10}/> {subtitle}</p>}
                </div>
            </div>
        );

        const StatusBadge = ({ status }) => {
            const styles = {
                moving: 'bg-green-100 text-green-700 border-green-200',
                idle: 'bg-yellow-100 text-yellow-700 border-yellow-200',
                offline: 'bg-gray-100 text-gray-600 border-gray-200'
            };
            const labels = {
                moving: '行駛中',
                idle: '怠速中',
                offline: '離線'
            };
            return (
                <span className={`text-[10px] px-2 py-0.5 rounded-full border font-medium ${styles[status]}`}>
                {labels[status]}
                </span>
            );
        };

        // --- 主程式 ---

        const App = () => {
            const [activeTab, setActiveTab] = useState('dashboard'); // 預設改回 Dashboard 方便第一眼查看
            const [selectedVehicle, setSelectedVehicle] = useState(FLEET_DATA[1]);
            const [isAiScanning, setIsAiScanning] = useState(false);
            const [socialScore, setSocialScore] = useState(78);

            const handleAiScan = () => {
                setIsAiScanning(true);
                setTimeout(() => {
                    setIsAiScanning(false);
                    setSocialScore(82);
                    alert("Vertex AI 分析完成：已更新供應鏈人權風險指數，並納入最新工安報告。");
                }, 2000);
            };

            return (
                <div className="flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden">
                {/* Sidebar */}
                <aside className="w-64 bg-slate-900 text-white flex flex-col shadow-xl flex-shrink-0 z-20">
                    <div className="p-6 border-b border-slate-700">
                    <div className="flex items-center gap-2">
                        <div className="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center font-bold text-xl text-white">C</div>
                        <div>
                        <h1 className="font-bold text-lg tracking-wide">COMBOGIC</h1>
                        <p className="text-xs text-slate-400">CHAP-V + S-Quant</p>
                        </div>
                    </div>
                    </div>

                    <nav className="flex-1 p-4 space-y-2 overflow-y-auto">
                    <div className="text-xs font-semibold text-slate-500 uppercase mb-2 px-2">Overview</div>
                    <NavItem icon={<LayoutDashboard size={20} />} label="總覽儀表板" active={activeTab === 'dashboard'} onClick={() => setActiveTab('dashboard')} />
                    
                    <div className="text-xs font-semibold text-slate-500 uppercase mt-6 mb-2 px-2">CHAP-V (Environment)</div>
                    <NavItem icon={<Truck size={20} />} label="車隊即時監控" active={activeTab === 'fleet'} onClick={() => setActiveTab('fleet')} />
                    
                    <div className="text-xs font-semibold text-emerald-400 uppercase mt-6 mb-2 px-2 flex items-center gap-1">
                        <BrainCircuit size={12} /> S-Quant (Social AI)
                    </div>
                    <NavItem icon={<Users size={20} />} label="人權風險評估" active={activeTab === 'human_rights'} onClick={() => setActiveTab('human_rights')} />
                    
                    {/* Verification */}
                    <div className="text-xs font-semibold text-blue-400 uppercase mt-6 mb-2 px-2 flex items-center gap-1">
                        <ShieldCheck size={12} /> Verification
                    </div>
                    <NavItem 
                        icon={<FileText size={20} />} 
                        label="查證與報告中心" 
                        active={activeTab === 'reports'} 
                        onClick={() => setActiveTab('reports')} 
                        highlight 
                        colorClass="text-blue-400 border-blue-400 bg-blue-900/30"
                    />
                    </nav>

                    <div className="p-4 border-t border-slate-700">
                    <div className="flex items-center gap-3">
                        <div className="w-10 h-10 rounded-full bg-gradient-to-tr from-green-400 to-blue-500 flex items-center justify-center text-sm font-bold shadow-lg border-2 border-slate-600">JD</div>
                        <div>
                        <p className="text-sm font-medium">John Doe</p>
                        <p className="text-xs text-slate-400">ESG Manager</p>
                        </div>
                    </div>
                    </div>
                </aside>

                {/* Main Content */}
                <main className="flex-1 overflow-y-auto relative scroll-smooth">
                    {/* Header */}
                    <header className="bg-white/80 backdrop-blur-md shadow-sm p-4 px-8 flex justify-between items-center sticky top-0 z-10 border-b border-gray-100">
                    <h2 className="text-2xl font-bold text-gray-800 flex items-center gap-2">
                        {activeTab === 'reports' ? '查證與報告中心' : 'ESG 整合戰情室'}
                        {activeTab === 'reports' && <span className="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full border border-blue-200">Auditor Mode</span>}
                    </h2>
                    <div className="flex gap-3">
                        <button 
                            onClick={handleAiScan}
                            className={`flex items-center gap-2 px-4 py-2 rounded-lg text-white transition-all shadow-sm ${isAiScanning ? 'bg-gray-400 cursor-not-allowed' : 'bg-slate-800 hover:bg-slate-700 hover:shadow-md active:scale-95'}`}
                        >
                        {isAiScanning ? 'Generating...' : <><Lock size={16} /> 產生查證連結</>}
                        </button>
                    </div>
                    </header>

                    <div className="p-8 space-y-8 max-w-7xl mx-auto">
                    
                    {activeTab === 'reports' ? (
                        <div className="space-y-8 animate-[fadeIn_0.5s_ease-out]">
                            {/* 1. 報告下載區 */}
                            <section>
                                <div className="flex justify-between items-end mb-4">
                                    <div>
                                        <h3 className="text-xl font-bold text-gray-800 flex items-center gap-2">
                                            <FileText className="text-blue-600" /> 合規報告生成 (Report Generation)
                                        </h3>
                                        <p className="text-gray-500 text-sm mt-1">針對銀行 SLL 貸款與第三方查證單位 (如 SGS, BSI) 所需格式自動生成的報告。</p>
                                    </div>
                                </div>
                                
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    {AUDIT_REPORTS.map(report => (
                                        <div key={report.id} className="bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group cursor-pointer hover:-translate-y-1">
                                            <div className="flex justify-between items-start mb-3">
                                                <span className="bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded font-medium">{report.type}</span>
                                                <CheckCircle2 size={18} className="text-green-500" />
                                            </div>
                                            <h4 className="font-bold text-gray-800 mb-1 group-hover:text-blue-600 transition-colors">{report.title}</h4>
                                            <p className="text-xs text-gray-400 mb-4">Generated on {report.date} • {report.size}</p>
                                            <button className="w-full flex items-center justify-center gap-2 border border-gray-300 py-2 rounded-lg text-sm text-gray-600 hover:bg-gray-50 hover:border-gray-400 transition-all">
                                                <Download size={16} /> 下載 PDF / Excel
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* 2. 數據溯源與稽核軌跡 */}
                            <section className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                                <div className="p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center">
                                    <div>
                                        <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2">
                                            <History className="text-purple-600" /> 數據溯源與稽核軌跡 (Audit Trail)
                                        </h3>
                                        <p className="text-xs text-gray-500 mt-1">
                                            符合 ISAE 3000 確信標準。紀錄所有數據的產生、AI 運算與人為修正歷程。
                                        </p>
                                    </div>
                                    <div className="flex gap-2">
                                        <input type="text" placeholder="搜尋車號或事件 ID..." className="text-sm border rounded-lg px-3 py-1.5 w-64 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" />
                                    </div>
                                </div>
                                
                                <div className="overflow-x-auto">
                                    <table className="w-full text-sm text-left">
                                        <thead className="bg-gray-50 text-gray-500 font-medium border-b border-gray-200">
                                            <tr>
                                                <th className="px-6 py-3">Timestamp</th>
                                                <th className="px-6 py-3">Actor (User/System)</th>
                                                <th className="px-6 py-3">Action</th>
                                                <th className="px-6 py-3">Details / Evidence</th>
                                                <th className="px-6 py-3">Integrity Hash</th>
                                                <th className="px-6 py-3">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-gray-100">
                                            {AUDIT_TRAIL.map(log => (
                                                <tr key={log.id} className="hover:bg-gray-50 transition-colors">
                                                    <td className="px-6 py-4 font-mono text-gray-600">{log.timestamp}</td>
                                                    <td className="px-6 py-4">
                                                        <span className={`px-2 py-1 rounded text-xs font-medium ${log.user.includes('System') || log.user.includes('AI') ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'}`}>
                                                            {log.user}
                                                        </span>
                                                    </td>
                                                    <td className="px-6 py-4 font-medium text-gray-800">{log.action}</td>
                                                    <td className="px-6 py-4 text-gray-600 max-w-xs truncate" title={log.details}>{log.details}</td>
                                                    <td className="px-6 py-4 font-mono text-xs text-gray-400">{log.hash}</td>
                                                    <td className="px-6 py-4">
                                                        <span className="flex items-center gap-1 text-green-600 text-xs font-medium">
                                                            <CheckCircle2 size={12} /> Verified
                                                        </span>
                                                    </td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                                <div className="p-4 bg-gray-50 border-t border-gray-200 text-center">
                                    <button className="text-sm text-gray-500 hover:text-gray-700 font-medium hover:underline">載入更多歷史紀錄...</button>
                                </div>
                            </section>

                            {/* 3. 查證員視角說明 */}
                            <div className="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl p-6 flex gap-4 items-start">
                                <div className="bg-white p-2 rounded-full text-blue-600 flex-shrink-0 shadow-sm">
                                    <Eye size={24} />
                                </div>
                                <div>
                                    <h4 className="font-bold text-blue-800 mb-1">關於「第三方查證」支援</h4>
                                    <p className="text-sm text-blue-700 leading-relaxed">
                                        本平台所有數據均已自動結構化，可直接對接 <strong>ISO 14064-1 (溫室氣體)</strong> 與 <strong>GRI / SASB (社會指標)</strong> 標準。
                                        點擊右上角「產生查證連結」，可生成一個「唯讀 (Read-only)」的臨時帳號給予查證員 (Auditor)，
                                        讓他們直接進入系統查看原始數據 (Raw Data) 與計算公式，大幅縮短現場查核時間。
                                    </p>
                                </div>
                            </div>
                        </div>
                    ) : (
                        // Dashboard View
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 animate-[fadeIn_0.5s_ease-out]">
                            <KpiCard 
                                title="總碳排放量 (Scope 1)" 
                                value="1,240 kgCO2e" 
                                trend="-5.2%" 
                                trendUp={false} 
                                icon={<Leaf className="text-green-600" />} 
                                color="border-l-4 border-green-500"
                            />
                            <KpiCard 
                                title="社會與人權風險分" 
                                value={`${socialScore}/100`} 
                                trend="+2.4" 
                                trendUp={true} 
                                icon={<ShieldCheck className="text-blue-600" />} 
                                color="border-l-4 border-blue-500"
                                subtitle="S-Quant AI 評估"
                            />
                             <KpiCard 
                                title="SROI 社會投資報酬" 
                                value="1 : 3.52" 
                                trend="+0.12" 
                                trendUp={true} 
                                icon={<TrendingUp className="text-purple-600" />} 
                                color="border-l-4 border-purple-500"
                            />
                            <KpiCard 
                                title="高風險駕駛行為" 
                                value="12 件" 
                                trend="-3 件" 
                                trendUp={false} 
                                icon={<AlertTriangle className="text-orange-500" />} 
                                color="border-l-4 border-orange-500"
                            />
                            
                            {/* 車隊列表 (精簡版) */}
                            <div className="bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:col-span-2">
                                <h3 className="font-bold text-gray-700 mb-4 flex items-center gap-2">
                                    <Truck size={18} /> 車隊即時監控
                                </h3>
                                <div className="space-y-3">
                                    {FLEET_DATA.map((vehicle) => (
                                    <div key={vehicle.id} onClick={() => setSelectedVehicle(vehicle)} className={`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md ${selectedVehicle.id === vehicle.id ? 'border-emerald-500 bg-emerald-50 ring-1 ring-emerald-200 shadow-sm' : 'border-gray-100 hover:bg-gray-50'}`}>
                                        <div className="flex justify-between items-start mb-2">
                                            <div>
                                                <div className="font-bold text-gray-800">{vehicle.id}</div>
                                                <div className="text-xs text-gray-500 flex items-center gap-1">
                                                    {vehicle.driver} <span className="text-gray-300">|</span> <MapPin size={10}/> {vehicle.location}
                                                </div>
                                            </div>
                                            <StatusBadge status={vehicle.status} />
                                        </div>
                                        <div className="space-y-2 mt-3">
                                            <div className="flex justify-between text-xs">
                                                <span className="text-gray-500">疲勞駕駛風險 (S)</span>
                                                <span className={`font-bold ${vehicle.fatigue_risk === 'High' ? 'text-red-500' : 'text-blue-600'}`}>{vehicle.fatigue_risk}</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-1.5">
                                                <div className={`h-1.5 rounded-full ${vehicle.fatigue_risk === 'High' ? 'bg-red-500' : 'bg-blue-500'}`} style={{ width: vehicle.fatigue_risk === 'High' ? '80%' : '30%' }}></div>
                                            </div>
                                        </div>
                                    </div>
                                    ))}
                                </div>
                            </div>

                            {/* AI 區塊 */}
                            <div className="bg-white rounded-xl shadow-sm border border-emerald-100 p-6 relative overflow-hidden md:col-span-2">
                                <div className="absolute top-0 right-0 p-2 opacity-10">
                                    <BrainCircuit size={100} className="text-emerald-500" />
                                </div>
                                <h3 className="font-bold text-gray-800 mb-1 flex items-center gap-2">
                                    <BrainCircuit className="text-emerald-600" size={20} />
                                    S-Quant AI 駕駛分析
                                </h3>
                                <p className="text-xs text-gray-500 mb-4">針對車輛 {selectedVehicle.id} ({selectedVehicle.driver})</p>
                                <div className="bg-emerald-50 p-3 rounded-lg border border-emerald-100 mb-2">
                                    <div className="flex justify-between items-center mb-1">
                                        <span className="text-sm font-semibold text-emerald-800">工時合規性</span>
                                        <span className="text-sm font-bold text-emerald-600">{selectedVehicle.compliance}%</span>
                                    </div>
                                    <p className="text-xs text-gray-600">本週連續駕駛時數接近法規上限，建議即刻安排休息。</p>
                                </div>
                                <div className="bg-orange-50 p-3 rounded-lg border border-orange-100">
                                    <div className="flex justify-between items-center mb-1">
                                        <span className="text-sm font-semibold text-orange-800">心理壓力檢測</span>
                                        <span className="text-sm font-bold text-orange-600">中等</span>
                                    </div>
                                    <p className="text-xs text-gray-600">急煞次數異常，AI 建議關注駕駛身心狀態。</p>
                                </div>
                            </div>
                        </div>
                    )}
                    </div>
                </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
